$sublimeRoot = "C:\st"
$scopesFile = Join-Path $sublimeRoot "Data\Packages\User\UnitTesting\tokens\PowerShell_tokens"
$testFile = Resolve-Path "$PSScriptRoot\..\samples\test-file.ps1"

Import-Module "$PSScriptRoot\SyntaxHelper.psm1"

Describe "Syntax highlighting" {
    
    if (-not (Test-Path $scopesFile)) {
        Write-Warning @'
This Pester UT file consumes scopes generated by python unit test Test_TokenGenerator.testGetTokens .
You need to run python tests first to make it work.
'@
        return
    }

    Context "test-file.ps1" {
        
        $scopes = cat -Raw $scopesFile | ConvertFrom-Json
        $tokens = Get-TokensFromFile $testFile

        It "doesn't split tokens to scopes" {
            
        }
    }
}